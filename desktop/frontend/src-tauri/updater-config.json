{
  "$schema": "https://raw.githubusercontent.com/tauri-apps/tauri/dev/tooling/cli/schema.json",
  "updater": {
    "active": true,
    "endpoints": {
      "production": [
        "https://github.com/Raudbjorn/MDMAI/releases/latest/download/latest.json"
      ],
      "staging": [
        "https://api.github.com/repos/Raudbjorn/MDMAI/releases/tags/v{version}/assets"
      ],
      "development": [
        "http://localhost:3030/update/latest.json"
      ]
    },
    "dialog": {
      "enabled": true,
      "title": "TTRPG Assistant Update Available",
      "body": "A new version of TTRPG Assistant is available. Would you like to update now?",
      "okButtonLabel": "Update Now",
      "cancelButtonLabel": "Update Later"
    },
    "windows": {
      "installMode": "passive",
      "silent": false,
      "restartBehavior": "ask"
    },
    "macos": {
      "installMode": "normal",
      "silent": false,
      "restartBehavior": "automatic"
    },
    "linux": {
      "installMode": "normal",
      "silent": false,
      "restartBehavior": "ask",
      "packageManager": "auto"
    },
    "checkInterval": "1d",
    "allowPrerelease": false,
    "allowDowngrade": false,
    "requireUserConsent": true,
    "enableMetrics": true,
    "backupSettings": true,
    "rollbackOnFailure": true,
    "checksumValidation": true,
    "signatureValidation": true
  },
  "releaseChannels": {
    "stable": {
      "pattern": "v*.*.*",
      "description": "Stable releases",
      "updateEndpoint": "https://github.com/Raudbjorn/MDMAI/releases/latest/download/latest.json",
      "checkInterval": "1d",
      "allowPrerelease": false
    },
    "beta": {
      "pattern": "v*.*.*-beta.*",
      "description": "Beta releases for testing",
      "updateEndpoint": "https://github.com/Raudbjorn/MDMAI/releases/latest/download/latest-beta.json",
      "checkInterval": "4h",
      "allowPrerelease": true
    },
    "alpha": {
      "pattern": "v*.*.*-alpha.*",
      "description": "Alpha releases for development",
      "updateEndpoint": "https://github.com/Raudbjorn/MDMAI/releases/latest/download/latest-alpha.json",
      "checkInterval": "1h",
      "allowPrerelease": true
    }
  },
  "security": {
    "publicKey": "${TAURI_SIGNING_PUBLIC_KEY:-}",
    "enforceSignatureValidation": true,
    "allowedSources": [
      "github.com",
      "api.github.com"
    ],
    "blockedSources": [],
    "certificatePinning": {
      "enabled": true,
      "pins": {
        "github.com": [
          "sha256:example-pin-1",
          "sha256:example-pin-2"
        ]
      }
    }
  },
  "networking": {
    "timeout": 30000,
    "retries": 3,
    "retryDelay": 1000,
    "userAgent": "TTRPG-Assistant-Updater/1.0.0",
    "proxy": {
      "detectSystem": true,
      "respectEnvironment": true
    },
    "tls": {
      "verifyHostname": true,
      "verifyCertificate": true,
      "minimumVersion": "TLS1.2"
    }
  },
  "logging": {
    "level": "info",
    "file": "updater.log",
    "maxSize": "10MB",
    "retention": "7d",
    "includeStackTrace": false
  },
  "rollback": {
    "enabled": true,
    "maxVersionsToKeep": 3,
    "backupUserData": true,
    "backupConfiguration": true,
    "autoRollbackOnCrash": true,
    "rollbackTimeoutMinutes": 5
  },
  "metadata": {
    "version": "1.0.0",
    "lastModified": "2024-12-28T00:00:00Z",
    "configVersion": "1.0",
    "supportedPlatforms": [
      "windows-x86_64",
      "macos-x86_64",
      "macos-aarch64",
      "linux-x86_64",
      "linux-aarch64"
    ]
  }
}